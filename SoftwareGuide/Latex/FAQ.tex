\section{Introduction}
\subsection{What is OTB?}
OTB, the ORFEO Toolbox is a library of image processing algorithms developed by CNES in the
frame of the ORFEO Accompaniment Program.
OTB is based on the medical image processing library ITK, \url{http://www.itk.org}, and offers
particular functionalities for remote sensing image processing in
general and for high spatial resolution images in particular.

OTB provides:
\begin{itemize}
\item image access: optimized read/write access for most of remote sensing
image formats, meta-data access, simple visualization;
\item sensor geometry: sensor models, cartographic projections;
\item radiometry: atmospheric corrections, vegetation indices;
\item filtering: blurring, denoising, enhancement;
\item fusion: image pansharpening;
\item feature extraction: interest points, alignments, lines;
\item image segmentation: region growing, watershed, level sets;
\item classification: K-means, SVM, Markov random fields;
\item change detection.
\item object based image analysis.
\item geospatial analysis.
\end{itemize}


Many of these functionalities are provided by ITK and have been tested
and documented for the use with remote sensing data.

You can get more information on OTB on the web at \url{http://www.orfeo-toolbox.org}.

\subsection{What is ORFEO?}
ORFEO stands for Optical and Radar Federated Earth Observation.  In
2001 a cooperation program was set between France and Italy to develop
ORFEO, an Earth observation dual system with metric resolution: Italy
is in charge of COSMO-Skymed the radar component development, and
France of PLEIADES the optic component.

The PLEIADES optic component is composed of two "small satellites"
(mass of one ton) offering a spatial resolution at nadir of 0.7 m and
a field of view of 20 km. Their great agility enables a daily access
all over the world, essentially for defense and civil security
applications, and a coverage capacity necessary for the cartography
kind of applications at scales better than those accessible to SPOT
family satellites. Moreover, PLEIADES will have stereoscopic
acquisition capacity to meet the fine cartography needs, notably in
urban regions, and to bring more information when used with aerial
photography.

The ORFEO "targeted" acquisition capacities made it a system
particularly adapted to defense or civil security missions, as well as
critical geophysical phenomena survey such as volcanic eruptions,
which require a priority use of the system resources.


With respect to the constraints of the franco-italian agreement,
cooperations have been set up for the PLEIADES optical component with
Sweden, Belgium, Spain and Austria.

\subsubsection{Where can I get more information about ORFEO?}
At the PLEIADES HR web site: \url{http://smsc.cnes.fr/PLEIADES/}.

\subsection{What is the ORFEO Accompaniment Program?}
Beside the Pleiades (PHR) and Cosmo-Skymed (CSK) systems developments forming ORFEO, the dual and bilateral system (France - Italy) for Earth Observation, the ORFEO Accompaniment Program was set up, to prepare, accompany and promote the use and the exploitation of the images derived from these sensors.

The creation of a preparatory program is needed because of :
\begin{itemize}
  \item  the new capabilities and performances of the ORFEO systems (optical and radar high resolution, access capability, data quality, possibility to acquire simultaneously in optic and radar),
  \item the implied need of new methodological developments : new processing methods, or adaptation of existing methods,
  \item the need to realize those new developments in very close cooperation with the final users, the integration of new products in their systems.
\end{itemize}


This program was initiated by CNES mid-2003 and will last until mid 2011.
It consists in two parts, between which it is necessary to keep a strong interaction:
\begin{itemize}
\item A Methodological part,
\item A Thematic part.
\end{itemize}


This Accompaniment Program uses simulated data (acquired during airborne campaigns) and satellite images quite similar to Pleiades (as QuickBird and Ikonos), used in a communal way on a set of special sites. The validation of specified products and services will be realized with those simulated data

Apart from the initial cooperation with Italy, the ORFEO Accompaniment
Program enlarged to Belgium, with integration of Belgian experts in
the different WG as well as a participation to the methodological
part.

\subsubsection{Where can I get more information about the ORFEO
  Accompaniment Program?}
Go to the following web site:
\url{http://smsc.cnes.fr/PLEIADES/A_prog_accomp.htm}.

\subsection{Who is responsible for the OTB development?}
The French Centre National d'\'Etudes Spatiales, CNES, initiated the ORFEO
Toolbox and is responsible for the specification of the library. CNES
funds the industrial development contracts and research contracts
needed for the evolution of OTB.

\section{Licence}
\subsection{Which is the OTB licence?}
OTB is distributed under a free software licence:\\
\url{http://www.cecill.info/licences/Licence_CeCILL_V2-en.html}.


\subsection{If I write an application using OTB am I forced to distribute that application?}
No. The license gives you the option to distribute your application if
you want to. You do not have to exercise this option in the license.

\subsection{If I wanted to distribute an application using OTB what license would I need to use?}
    The CeCILL licence.

\subsection{I am a commercial user. Is there any restriction on the
  use of OTB?}
OTB can be used internally ("in-house") without restriction, but only
redistributed in other software that is under the CeCILL licence.

\section{Getting OTB}

\subsection{Who can download the OTB?}
Anybody can download the OTB at no cost.

\subsection{Where can I download the OTB?}
Go to \url{http://www.orfeo-toolbox.org}
 and follow the "download OTB" link. You will have access to the OTB
source code and to the Software User's Guide. Binary packages are also provided for the current version.

\subsection{How to get the latest bleeding-edge version?}\label{sec:FAQMercurial}

You can get the current development version, as our repository is public, using Mercurial (available at \url{http://www.selenic.com/mercurial}). Be aware that, even if the golden rule is {\em what is commited will compile}, this is not always the case. Changes are usually more than ten per day.

The first time, you can get the source code using:
\begin{verbatim}
      hg clone http://hg.orfeo-toolbox.org/OTB
\end{verbatim}

Then you can build OTB as usual using this directory as the source (refer to build instructions).

Later if you want to update your source, from the OTB source directory, just do:
\begin{verbatim}
      hg pull -u
\end{verbatim}

A simple \texttt{make} in your OTB binary directory will be enough to update the library (recompiling only the necessary stuff).


\section{Installing OTB}
\label{sec:FAQInstall}
\subsection{Which platforms are supported?}
OTB is a multi-platform library. It has successfully been installed on
the following platforms:
\begin{itemize}
  \item Linux/Unix with GCC (2.95.X, 3.3.X, 4.1.X, 4.2.X, 4.3.X, 4.4.X, 4.5.X)
  \item Windows with Microsoft Visual Studio C++ 7.1 .NET 2003
  \item Windows with Microsoft Visual Studio C++ 8.0 .NET 2005
  \item Windows with Microsoft Visual Studio C++ 9.0 .NET 2008
  \item Windows with Microsoft Visual Express 2005
  \item Windows with Microsoft Visual Express 2008
  \item Windows with Microsoft Visual Express 2010
  \item Cygwin (\url{http://www.cygwin.com})
  \item MacOS (OSX 10.5, OSX 10.6)
  \item Open Solaris
\end{itemize}

\subsection{Which libraries/packages are needed before installing
 OTB?}
\begin{itemize}
\item CMake (\url{http://www.cmake.org}), minimum 2.6
\item GDAL (\url{http://www.gdal.org})
\item Optional (you may use the version included in OTB): Fltk (\url{http://www.fltk.org}) and ITK (\url{www.itk.org})
\item Optional (OTB will compile and work but some minor functionalities will be missing): cURL (\url{http://curl.haxx.se/}), FFTW (\url{www.fftw.org}).
\end{itemize}

\subsection{Main steps}
In order to install OTB on your system follow these steps (in the
given order):
\begin{enumerate}
  \item Install CMake (binary packages are available for most platforms).
  \item Install GDAL (binary packages are available for most platforms,
        on windows, look for osgeo4w \url{http://trac.osgeo.org/osgeo4w/}).
  \item Install OTB using CMake for the configuration.
\end{enumerate}

We assume that you will install everything on a directory called
\texttt{INSTALL\_DIR}, which usually is \texttt{/usr/local}, \texttt{/home/jordi/local} or
whatever you want. Make sure that you have downloaded the source code for:
  \begin{itemize}
  \item CMake (\url{http://www.cmake.org})
  \item GDAL (\url{http://www.gdal.org})
  \end{itemize}

\subsubsection{Unix/Linux Platforms}

\textbf{Important note}: on some Linux distributions (eg. Debian, Ubuntu, Fedora), you should use
the official packages for CMake, GDAL and Fltk (including the development packages). Once you have installed these
packages, you can skip to step 4.

\begin{enumerate}

\item Install GDAL (or \textbf{use your distribution package})
  \begin{verbatim}
      cd INSTALL_DIR
      gunzip gdal.1.8.0.tar.gz
      tar xvf gdal.1.8.0.tar
      cd gdal.1.8.0
      ./configure --prefix=INSTALL_DIR --with-libtiff=internal --with-geotiff=internal
      make
      make install
  \end{verbatim}

It seems to be a bug in the GDAL install procedure: if you are installing it without root privileges, even if your \texttt{INSTALL\_DIR} is a directory for which you have the write permissions, GDAL tries to copy the python bindings together with the Python site packages, which are usually somewhere in /usr/lib.

Actually, since this is the last step in the GDAL install procedure, when you get the error message, the GDAL libs and header files are already installed, so you can safely ignore the error.

The \texttt{--without-python} option passed to the \texttt{configure} step avoids this. However, some users may want to have Python bindings, so recommending this option for the install may not be OK for everybody.

\item Install CMake (or \textbf{use your distribution package})
  \begin{verbatim}
      cd INSTALL_DIR
      gunzip cmake-2.8.4.tar.gz
      tar xvf cmake-2.8.4.tar
      cd cmake-2.8.4
      ./configure --prefix=INSTALL_DIR
      make
      make install
  \end{verbatim}
      In order to properly use cmake, add \texttt{INSTALL\_DIR/bin} to
      your path with \texttt{export PATH=\$PATH:INSTALL\_DIR/bin} or
      something similar.

\item Install Fltk (optional) using CMake (do not use the configure script) (or \textbf{use your distribution package})
  \begin{verbatim}
      cd INSTALL_DIR
      bunzip2 fltk-1.1.9-source.tar.bz2 OR
      gunzip fltk-1.1.9-source.tar.gz
      tar xvf fltk-1.1.9-source.tar
      mkdir Fltk-binary
      cd Fltk-binary
      ccmake ../fltk-1.1.9
      --> follow the CMake instructions, in particular:
          --> set CMAKE_INSTALL_PREFIX to INSTALL_DIR within CMake
	  --> set BUILD_EXAMPLES to ON within CMake
	  --> generate the configuration with 'g'
      make
      make install
      --> check that the examples located in
      INSTALL_DIR/Fltk-binary/bin work, in particular, the fractals
      example which makes use of the OpenGL library needed by OTB.
  \end{verbatim}

   You can also choose to use the FLTK version we included in the source of OTB, in this case, everything will be compile at the same time. To do that, you will have to set the option \texttt{OTB\_USE\_EXTERNAL\_FLTK} to \texttt{OFF}

\item Install OTB
  \begin{verbatim}
      cd INSTALL_DIR
      gunzip OrfeoToolbox-3.12.0.tgz
      tar xvf OrfeoToolbox-3.12.0.tar
      mkdir OTB-Binary
      cd OTB-Binary
      ccmake ../OrfeoToolbox-3.12.0
      --> follow the CMake instructions, in particular:
	  --> set BUILD_EXAMPLES to ON within CMake
	  --> set BUILD_SHARED_LIBS to ON within CMake
	  --> set BUILD_TESTING to OFF within CMake
	  --> set CMAKE_INSTALL_PREFIX to INSTALL_DIR within CMake
	  --> set GDAL_INCLUDE_DIRS to INSTALL_DIR/include within CMake
	  --> set GDAL_LIBRARY_DIRS to INSTALL_DIR/lib within CMake
	  --> set OTB_USE_EXTERNAL_ITK to OFF within CMake
	  --> set FLTK_DIR to INSTALL_DIR/Fltk-Binary within CMake OR
	      if you do not have FLTK, you can use the OTB internal FLTK setting  
	      OTB_USE_EXTERNAL_ITK to OFF. If you don't have FLTK and don't want to use 
	      the internal one, press 't' to change to advanced mode and set OTB_USE_VISU to OFF
	  --> generate the configuration with 'g'
       make -j 2
  \end{verbatim}

  If you want a faster compilation and don't want the compilation of the examples, you
  can set \texttt{BUILD\_EXAMPLES} to \texttt{OFF}. Some platforms apparently
  have more difficulties with shared libraries, if you experience any problem
  with that, you can set \texttt{BUILD\_SHARED\_LIBS} to \texttt{OFF} but the
  built size might reach 1~GB.

  After these steps, you have the source of OTB in \texttt{INSTALL\_DIR/OrfeoToolbox-3.0.0}
  and the compiled binaries and libraries in \texttt{INSTALL\_DIR/OTB-Binary}. Keeping
  the sources is important as most programs you will designed will need an access
  to the \texttt{.txx} files during compilation. However, the binaries directory knows were
  its sources are and you will need to point only to the \texttt{INSTALL\_DIR/OTB-Binary}
  when the \texttt{cmake} for your program will ask you where the OTB is.

  If you want to put OTB in a standard location, you can proceed with:

  \begin{verbatim}
      make install
  \end{verbatim}

  but \textbf{this is only optional}.


\end{enumerate}

\subsubsection{Microsoft Visual Studio (7.1 .NET 2003/8.0 .NET 2005/Express 2005/Express 2008 2010/Express 2010)}
OSGeo4W is a binary distribution of a broad set of open source geospatial software 
for Win32 environments (Windows XP, Vista, etc), and contains all the required dependencies of OTB.


\begin{enumerate}

\item Install OSGeo4W with the following packages : gdal, libgeotiff, libtiff, libtiff-devel, libjpeg, libpng, libpng-devel-vc, zlib, zlib-devel, expat, curl, liblas, liblas-devel

\item Start an OSGeo4W shell

\item Type \texttt{cmake-gui}

\item Configure OTB with CMake (Example for release mode, with internal FLTK and ITK)

    First give the path where the source code is and where to build the binaries.

    Then press the "Configure" button and choose the generator for your project. For example, Visual Studio 9 2008.

    Set the following variables after the first configuration pass :

        \texttt{OTB\_USE\_CURL = ON}\\
        \texttt{OTB\_USE\_EXTERNAL\_EXPAT = ON}\\
        \texttt{OTB\_USE\_LIBLAS = ON}\\
        \texttt{OTB\_USE\_EXTERNAL\_LIBLAS = ON}

    Press "Configure" again. The "Generate" button should be available

    Press "Generate" to have CMake build a Visual Studio project for you

\item Compile OTB with Microsoft Visual Studio
    When the MSVC++ project is generated, you can open the solution and generate the \texttt{ALL\_BUILD} project.

    If you plan to run executables from within the Visual Studio environment, you should open the Visual Studio solution file
    from the OSGeo4W shell. To do this, simply drag-and-drop the ".sln" file to an OSGeo4W shell and press Enter.

\end{enumerate}

Microsoft Visual Studio 2010 is supported since the version 3.6. 

\subsubsection{Cygwin}
\begin{enumerate}

\item Download the lastest version at \url{http://www.cygwin.com} and install it.
	Then, launch it, a prompt appears (similar to Linux one).

\item Install GDAL

	To compile GDAL, at configure step, use these options :
\begin{verbatim}
	./configure --prefix=INSTALL_DIR --with-geotiff=internal --with-libtiff=internal
\end{verbatim}
	Then the usual make and make install.


\item Install OTB

	See Linux part for details (same procedure).
\end{enumerate}

That should be all! Otherwise, subscribe to
   otb-users@googlegroups.com and you will get some help.

\subsection{Specific platform issues}
\subsubsection{SunOS/HP UX}
Due to a bug in the tar command shipped with some versions of SunOS,
problems may appear when configuring, compiling or installing OTB.

See \url{http://www.gnu.org/software/tar/manual/tar.html#Checksumming} for
details on the bug characterization.

The solution is to use the GNU tar command if it is available on your
system (gtar).

\subsubsection{Visual Studio 2010/Express 2010}
Since Visual Studio 2010, OTB can't compile while using the internal libLAS library : disable the use of the library by setting 
the following variables in cmake :  \texttt{OTB\_USE\_LIBLAS = OFF}\\
Then you will be able to configure and build the project as usual.

\subsubsection{Cygwin}
Due to an unknown bug, Fltk can't compile on some versions of Cygwin (OpenGL problems).

Put OTB\_USE\_VISU to OFF to avoid these problems.

Some bugs can appear while compiling GDAL with JPEG2000 files : disable this format to solve the problem.

\subsubsection{MacOSX 10.6 Snow Leopard}
Since 10.6 (Snow Leopard), OS X does not support Carbon calls from 64bit code anymore. Until FLTK is ported to Cocoa, it can only be compiled in 32 bits mode, thus OTB needs to be compiled in 32 bits mode, as well as GDAL. Moreover, there is a compilation issue with liblas, so liblas must be disabled.
You can follow these steps :

\begin{enumerate}

\item Install GDAL

	To compile GDAL, at configure step, use these options :
\begin{verbatim}
	export CFLAGS="-O2 -W -arch i386 "
	export CXXFLAGS="-O2 -W  -arch i386 "
	export LDFLAGS="-arch i386"

	./configure --prefix=INSTALL_DIR --with-png=internal --with-libtiff=internal
	--with-geotiff=internal --with-jpeg=internal
\end{verbatim}

	Then the usual make and make install.


\item Configure OTB

        Follow the Unix/Linux instructions. In particular set the following variables :
        \texttt{CMAKE\_OSX\_ARCHITECTURES = i386}\\
        \texttt{GDAL\_INCLUDE\_DIR}\\
        \texttt{GDAL\_LIBRARY\_DIR}\\
        \texttt{OTB\_USE\_LIBLAS = OFF}\\

        Then the usual make and make install.

\end{enumerate}

\subsubsection{Open Solaris}
There are some issues on Open Solaris 2009.06 and before with libLAS (library included
in OTB to process LIDAR data). You will need to deactivate it: set the
OTB\_USE\_LIBLAS option to OFF.

It seems to be fine with the more recent release of Open Solaris.

\subsubsection{Debian Linux / Ubuntu}

On some Debian / Ubuntu versions, the system gdal library might conflict with the system Tiff library. This is most likely the case if you get odd segmentation fault whenever trying to open a tiff image.

Here is an outline of the issue: to be able to handler big Tiff files (e.g. more than 4 Gb) the Tiff library has to be compiled with some specific options. This is not the case for most distrib Tiff packages. Therefore, Gdal is often compiled with an internal Tiff version using the appropriate options. In this case, the Gdal shared library might expose the internal Tiff symbols, so that these symbols will be found when linking against the Gdal library. But Gdal offers the Tiff symbols without offering the headers in its include directory, so that one ends up compiling some code using Tiff system headers and Tiff Gdal symbols. This might cause Tiff version conflicts and lead to segmentation fault.

Now, here is the workaround: Build your own Gdal library (you probably want to have the most up-to-date Gdal anyway) using the following options during configuration:
\begin{verbatim}
	./configure --prefix=INSTALL_DIR --with-libtiff=internal --with-geotiff=internal
\end{verbatim}

Then make and (sudo) make install. Then, do:

\begin{verbatim}
        sudo cp frmts/gtiff/libgeotiff/*.h   INSTALL_DIR/include/
	sudo cp frmts/gtiff/libgeotiff/*.inc INSTALL_DIR/include/
	sudo cp frmts/gtiff/libtiff/*.h      INSTALL_DIR/include/ 
\end{verbatim}

This will add the missing headers to the the Gdal include directory, so that your Gdal installation now provide a full Tiff support (headers and symbols). During OTB configuration, you will need to set configuration varaible related to gdal to your own Gdal:
\begin{verbatim}
       GDALCONFIG_EXECUTABLE            gdal_binary_directory/bin/gdal-config                 
       GDAL_CONFIG                      gdal_binary_directory/bin/gdal-config                 
       GDAL_INCLUDE_DIR                 gdal_binary_directory/include                         
       GDAL_LIBRARY                     gdal_binary_directory/lib/libgdal.so 
       OGR_INCLUDE_DIRS                 gdal_binary_directory/include  
\end{verbatim}
Be careful to use Gdal include directory as TIFF\_INCLUDE\_DIRS and GEOTIFF\_INCLUDE\_DIRS and Gdal library for GEOTIFF\_LIBRARY and TIFF\_LIBRARY.   
\begin{verbatim}
       GEOTIFF_INCLUDE_DIRS             gdal_binary_directory/include                         
       GEOTIFF_LIBRARY                  gdal_binary_directory/lib/libgdal.so 
            
       TIFF_INCLUDE_DIRS                gdal_binary_directory/include                         
       TIFF_LIBRARY                     gdal_binary_directory/lib/libgdal.so
\end{verbatim}              

\section{Using OTB}

\subsection{Where to start ?}

OTB presents a large set of features and it is not always easy to start using it.
After the installation, you can proceed to the tutorials (in the Software Guide).
This should give you a quick overview of the possibilities of OTB and will teach
you how to build your own programs.

\subsection{What is the image size limitation of OTB ?}

The maximum physical space a user can allocate depends on her platform. Therefore,
image allocation in OTB is restricted by image dimension, size, pixel type and number
of bands.

Fortunately, thanks to the streaming mechanism implemented within
OTB's pipeline (actually ITK's), this limitation can be bypassed. The
use of the \doxygen{otb}{StreamingImageFileWriter} at the end of the pipeline,
or the \doxygen{itk}{StreamingImageFilter} at any point of the pipeline will
seamlessly break the large, problematic data into small pieces whose
allocation is possible. These pieces are processed one afther the
other, so that there is not allocation problem anymore. We are often working with
images of $25000 \times 25000$ pixels.

For the streaming to work, all the filters in the pipeline must be streaming capable
(this is the case for most of the filters in OTB). The output image format also need to be
streamable (not PNG or JPEG, but TIFF or ENVI, for instance).

To tune the size of the streaming pieces, the OTB has
two CMake variables. The first is named
OTB\_STREAM\_IMAGE\_SIZE\_TO\_ACTIVATE\_STREAMING. It represents the
minimum size of the image in bytes for which streaming may be helpful. The
second, OTB\_STREAM\_MAX\_SIZE\_BUFFER\_FOR\_STREAMING, specifies the
maximum size in bytes a streaming piece should have. It can be used to
compute the optimal number of pieces to break the input data into.

These two parameters have been used in the OTB-Applications/Utils/
applications. Take this as an example of how they can be used. They
can also be tuned by the user to match her specific needs.


\section{Getting help}
\subsection{Is there any mailing list?}
Yes. There is a discussion group at
\url{http://groups.google.com/group/otb-users/} where you can get help
on the set up and the use of OTB.

\subsection{Which is the main source of documentation?}
The main source of documentation is the OTB Software Guide which can
be downloaded at
\url{http://www.orfeo-toolbox.org/packages/OTBSoftwareGuide.pdf}. It
contains tenths of commented examples and a tutorial which should be a good starting
point for any new OTB user. The code source for these examples is
distributed with the toolbox. Another information source is the
on-line API documentation which is available at \url{http://www.orfeo-toolbox.org/doxygen}.

\section{Contributing to OTB}\label{sec:contributing}

\subsection{I want to contribute to OTB, where to begin?}

First, you can send an email to otb@cnes.fr or the the user mailing list (otb-users@googlegroups.com) 
to let us know what functionality
you would like to introduce in OTB. If the functionality seems important for the
OTB users, we will then discuss on how to retrieve your code,
make the necessary adaptions, check with you that the results are correct and finally
include it in the next release.

To make this process of contribution easier, we also provide a 
``sandbox`` repository for OTB which works as a testing environment that
isolates untested code changes and outright experimentation from the
production environment or repository. Here is how it works:

\begin{itemize}
  \item Clone the main OTB repository: 
    \begin{verbatim}
    hg clone http://hg.orfeo-toolbox.org/OTB
    \end{verbatim}
  \item Set up your mercurial identity, in Linux, edit the ~/.hgrc and put the following lines:
    \begin{verbatim}
     [ui]
     username = Your Name <email-where-we-can@contact.you>
    \end{verbatim}
  \item Work as usual, commit locally as you would do for your own project
    when you are happy, push to the sandbox:
    \begin{verbatim}
     [ui]
     hg push http://hg.orfeo-toolbox.org/OTB-SandBox
    \end{verbatim}
\end{itemize}  

If necessary, use the -f option (we will sort out the mess). When ask
for the login use ``anonymous`` with the password ``otb``.  We will be
informed that something new is in the sandbox, but you can also drop a
mail at otb-users@googlegroups.com to provide more explanations.
We will then review the corrections, test them and then merge them
into the main repository.  You can find more informations about the
procedure at
\url{http://blog.orfeo-toolbox.org/news/contribute-easily-to-otb}.      

You can also run the nightly tests so we have a wider range of plateforms to detect
bugs earlier. Look at section \ref{sec:runningTheTests}.

\subsection{What are the benefits of contributing to OTB?}

Besides the satisfaction of contributing to an open source project, we will include
the references to relevant papers in the software guide. Having algorithms
published in the form of reproducible research helps science move faster and
encourages people who needs your algorithms to use them.

You will also benefit from the strengths of OTB: multiplatform, streaming and
threading, etc.

\subsection{What functionality can I contribute?}

All functionalities which are useful for remote sensing data are of interest. As
OTB is a library, it should be generic algorithms: change, detection, fusion,
object detection, segmentation, interpolation, etc.

More specific applications can be contributed to the OTB-Applications package.

\section{Running the tests}\label{sec:runningTheTests}

\subsection{What are the tests?}

OTB is an ever changing library, it is quite active and have scores of
changes per day from different people. It would be a headache to make
sure that the brand new improvement that you introduced didn't break
anything, if we didn't have automated tests. You also have to take into
account differences in OS, compilers, options, versions of external
libraries, etc. By running the tests and submitting it to the dashboard,
you will help us detect problems and fix them early.

For each class, at minimum there is a test which tries to instantiate it and another one which uses the class. The output of each test (image, text file, binary file) is controlled against a baseline to make sure that the result hasn't changed.

All these test are available in the directory \texttt{Testing} and are also good examples on how to use the different classes.

\subsection{How to run the tests?}

There is more than 1000 tests for OTB and about 100 for the OTB-Applications and it takes from 20 minutes to 3 hours to run all the test, mainly depending on your compilation options (Release mode does make a difference) and of course your hardware.

To run the tests, you first have to make sure that you set the option \texttt{BUILD\_TESTING} to \texttt{ON} before building the library. If you want to modify it, just rerun ccmake, change the option, then make.

For some of the tests, you also need the test data and the baselines (see \ref{sec:FAQTestData}).

Once OTB is built with the tests, you just have to go to the binary directory where you built OTB and run \texttt{ctest -N} to have a list of all the tests. Just using \texttt{ctest} will run all the tests. To select a subset, you can do \texttt{ctest -R Kml} to run all tests related to kml files or \texttt{ctest -I 1,10} to run tests from 1 to 10.

\subsection{How to get the test data?}\label{sec:FAQTestData}

If you have a problem at the compilation, you can skip this step first.
Data used for the tests are also versioned using Mercurial (see \ref{sec:FAQMercurial}).

You can get the base doing:
\begin{verbatim}
      hg clone http://hg.orfeo-toolbox.org/OTB-Data
\end{verbatim}

This is about 1~GB of data, so it will take a while, but you have to do it only once, as after, a simple
\begin{verbatim}
      hg pull -u
\end{verbatim}
will update you to the latest version of the repository.

You can also easily synchronize the directory you retrieve between different computers on your network, so you don't have to get it several times from the main server. Check out Mercurial capabilities.

\subsection{How to submit the results?}

Once you know how to run the tests, you can also help us to detect the bugs or configuration problems specific to your configuration. As mentionned before, the possible combinations between OS, compiler, options, external libraries version is too big to be tested completely, but the more the better.

You just have to launch ctest with the \texttt{-D Experimental} switch. Hence:
\begin{verbatim}
      ctest -D Experimental -A CMakeCache.txt
\end{verbatim}

And you will be able to see the result at

\url{http://dash.orfeo-toolbox.org/Dashboard/index.php?project=OTB}.

If you are interested in setting up a nightly test (automatically launched every night), please contact us and we will give you the details.

\section{OTB's Roadmap}

\subsection{Which will be the next version of OTB?}
OTB's version numbers have 3 digits. The first one is for major
versions, the second one is for minor versions and the last one is for
bugfixes.

The first version was 1.0.0 in July 2006. Version 1.2.0, 1.4.0 and 1.6.0 were
released in between. The 2.0.0 major version  was released in December 2007.
The 2.2.0, 2.4.0 and 2.6.0 ({\em Halloween}) in June, July and November 2008 respectively. The
2.8.0 ({\em Gong Xi Fa Cai}) came out in January 2009, the 3.0.0 ({\em Manh\~{a} de Carnaval}) in May 2009, the 3.2.0 ({\em 62$^\circ$38${'}$35${''}$S 60$^\circ$14${'}$31${''}$W}) in January 2010, the 3.4.0 ({\em Perl A Rebours}) in July 2010, the 3.6.0 ({\em California Dreamin'}) in October 2010, the 3.8.0 ({\em Pack Ice}) in December 2010, the 3.10.0 ({\em Feli\c{c} aniversari}) June 2011.

The current one is 3.12.0.

\subsubsection{What is a major version?}
A major version of the library implies the addition of high-level
functionalities as for instance image registration, object recognition, etc.

\subsubsection{What is a minor version?}
A minor version is released when low-level functionalities are
available within one major functionality, as for instance a new
change detector, a new feature extractor, etc.

\subsubsection{What is a bugfix version?}
A bugfix version is released when significant bugs are identified and fixed.

\subsection{When will the next version of OTB be available?}
We plan to release major new OTB version once a year, that is, version
2.0.0 was available at the end of 2007, version 3.0.0 was released
in May 2009, and so on.

\subsection{What features will the OTB include and when?}
There is no detailed plan about the availability of OTB new features,
since OTB's content depends on ongoing research work and on feedback
from thematic users of the ORFEO Accompaniment Program.

Nevertheless, the main milestones for the OTB development are the
following:
\begin{itemize}
  \item{Version 1 (2006):}
    \begin{itemize}
    \item core of the system,
    \item IO,
    \item basic filtering, segmentation and classification,
    \item basic feature extraction,
    \item basic change detection.
    \end{itemize}
    \item{Version 2 (2007):}
      \begin{itemize}
      \item geometric corrections,
      \item radiometric corrections,
      \item registration.
      \end{itemize}
    \item{Version 3 (2009):}
      \begin{itemize}
      \item multi-scale and multi-resolution analysis,
      \item object detection and recognition,
      \item supervised learning.
      \end{itemize}
    \item{Version 4 (2010):}
      \begin{itemize}
	\item data fusion,
	\item spatial reasoning.
      \end{itemize}

\end{itemize}

%% \subsection{When will feature X or Y be included in OTB?}

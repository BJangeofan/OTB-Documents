#+STARTUP: beamer
#+INCLUDE: "template-beamer.org"

* Introduction
** The context

*** Learning framework
   - Focused on the training step
   - Missing tools for the samples preparation

*** Current sample selection :
   - Obscure mechanism, difficult to predict how many samples will be selected and where
   - Allows to set maximum number of samples per class, training/validation ratio, bound by minimum class
   - Filters not scalable

** The plan

   - Add new applications to allow more control on sample selection
   - Integration in the existing application TrainImagesClassifier
   - Foresee the use of large training sets
   - Foresee the use of stratified learning

* Description of the sampling framework
** The big picture

   - TODO : Schema
   - Step 1 : analyse input geometries (number of candidate samples per class, and per polygon)
   - Step 2 : select sample positions based on sampling rates per class, and sampler type
   - Step 3 : extract sample values

** Handling of input geometries

*** Depending on the input training geometry :
   - TODO : Schema
   - Point : select closest pixel
   - Line : select pixels intersecting the line
   - Polygon : select pixel centers inside the polygon

** Sampling strategies

   - Take all available samples
   - Set a common number of sample for each class
   - Fit the number of samples based on the smalled class
   - Select different sample counts for each class

** Sampler types

*** How to select N samples among T ?
   - Periodic : an improvement of the decimation method
   - Pattern : uses a repeated custom selection pattern (X__X__X__...)
   - Random : uses a random test at each candidate with a given probability

TODO schema comparison

** Implementation aspects

   - Uses streaming on the support image
   - Uses multi-threading over the input geometries
   - Supports input raster mask
   - Handles geometry collections

** Current state

   - Step 1 : PolygonAnalysis : first implementation available in 5.4
   - Step 2 : SampleSelection : in RFC process
   - Step 3 : SampleExtraction : work in progress
   - Integration into a TrainVectorsClassifier : work in progress

** Future evolutions

   - Better multi-image support
   - Stratified learning
   - Sample values computed during extraction



